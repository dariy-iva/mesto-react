{"version":3,"sources":["utils/Api.js","utils/constants.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header/Header.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPostPopup/AddPostPopup.js","components/DeletePostPopup/DeletePostPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","objConfig","this","_token","token","_id","id","_adress","adress","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_verifyResolve","data","method","body","JSON","stringify","name","about","avatar","mesto","link","postId","isLiked","CurrentUserContext","React","createContext","Header","className","href","src","logo","alt","Card","card","onCardClick","onCardLike","onCardDeleteClick","owner","likes","currentUser","useContext","isOwn","buttonDeleteClassName","some","i","buttonLikeClassName","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPost","posts","map","post","Footer","ImagePopup","props","isOpen","onClose","PopupWithForm","title","children","onSubmit","popupClass","formClass","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPostPopup","setMesto","setLink","DeletePostPopup","onDeletePost","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPostPopupOpen","setIsAddPostPopupOpen","isEditAvatarPopupOpenen","setIsEditAvatarPopupOpen","isDeletePostPopupOpenen","setIsDeletePostPopupOpenen","isImagePopupOpenen","setIsImagePopupOpenen","selectedCard","setSelectedCard","setPosts","closeAllPopups","getUserInfo","catch","err","console","log","getPosts","Provider","changeLikePostStatus","newPost","state","c","setUserInfo","setPost","deletePost","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a695720b.chunk.js","sourcesContent":["import { apiConfig } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(objConfig) {\r\n    this._token = objConfig.token;\r\n    this._id = objConfig.id;\r\n    this._adress = objConfig.adress;\r\n  }\r\n\r\n  _verifyResolve(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._adress}/v1/${this._id}/users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  getPosts() {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._adress}/v1/${this._id}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._adress}/v1/${this._id}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  setPost(data) {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.mesto,\r\n        link: data.link\r\n      })\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  deletePost(postId) {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards/${postId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  changeLikePostStatus(postId, isLiked) {\r\n    return fetch(\r\n      `${this._adress}/v1/${this._id}/cards/likes/${postId}`,\r\n      {\r\n        method: isLiked ? \"DELETE\" : \"PUT\",\r\n        headers: {\r\n          authorization: this._token\r\n        }\r\n      }\r\n    ).then(this._verifyResolve);\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiConfig);\r\n","export const apiConfig = {\r\n  token: \"036b7b31-eb11-4936-b88e-e4dfd598930e\",\r\n  id: \"cohort-28\",\r\n  adress: \"https://mesto.nomoreparties.co\"\r\n};\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../../images/logo.svg\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"/\">\r\n        <img src={logo} alt=\"логотип\" className=\"header__logo link-hover\" />\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDeleteClick }) {\r\n  const { owner, link, name, likes } = card;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const buttonDeleteClassName = `post__del-button ${\r\n    isOwn && \"post__del-button_visible\"\r\n  }`;\r\n\r\n  const isLiked = likes.some((i) => i._id === currentUser._id);\r\n  const buttonLikeClassName = `post__like-button ${\r\n    isLiked && \"post__like-button_active\"\r\n  }`;\r\n\r\n  function handleImgClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDeleteClick(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"post\">\r\n      <img\r\n        src={link}\r\n        alt={name}\r\n        className=\"post__photo\"\r\n        onClick={handleImgClick}\r\n      />\r\n      <p className=\"post__caption\">{name}</p>\r\n      <div className=\"post__likes\">\r\n        <button type=\"button\" className={buttonLikeClassName} onClick={handleLikeClick}></button>\r\n        <p className=\"post__likes-number\">{likes.length}</p>\r\n      </div>\r\n      <button type=\"button\" className={buttonDeleteClassName} onClick={handleDeleteClick}></button>\r\n    </article>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport Card from \"../Card/Card\";\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPost,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDeleteClick,\r\n  posts,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img\r\n          src={currentUser.avatar || \"\"}\r\n          alt=\"аватар\"\r\n          className=\"profile__avatar\"\r\n        />\r\n        <div className=\"profile__edit-avatar\" onClick={onEditAvatar}></div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">\r\n            {currentUser.name || \"Пользователь не найден\"}\r\n          </h1>\r\n          <p className=\"profile__about-me\">\r\n            {currentUser.about || \"Пользователь не найден\"}\r\n          </p>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          onClick={onAddPost}\r\n        ></button>\r\n      </section>\r\n      <section className=\"posts\">\r\n        {posts.map((post) => (\r\n          <Card\r\n            card={post}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDeleteClick={onCardDeleteClick}\r\n            key={post._id}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy;&nbsp;2021 Daria Ivanova</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup(props) {\r\n  const { isOpen, card, onClose } = props;\r\n  return (\r\n    <div\r\n      className={`popup popup_content_photo ${isOpen && \"popup_opened\"}`}\r\n      id=\"popup-open-photo\"\r\n    >\r\n      <div className=\"popup__photo-box\">\r\n        <img\r\n          src={card ? card.link : \"#\"}\r\n          alt={card ? card.name : \"\"}\r\n          className=\"popup__photo\"\r\n        />\r\n        <p className=\"popup__caption-photo\">{card ? card.name : \"\"}</p>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__reset-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function PopupWithForm({\r\n  name,\r\n  title,\r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n}) {\r\n  const popupClass = `popup ${isOpen && \"popup_opened\"}`;\r\n  const formClass = `popup__form popup__form_contain_${name}`;\r\n\r\n  return (\r\n    <div className={popupClass}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form name={name} className={formClass} onSubmit={onSubmit}>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__submit-button\">\r\n            Сохранить\r\n          </button>\r\n          <button\r\n            type=\"reset\"\r\n            className=\"popup__reset-button\"\r\n            onClick={onClose}\r\n          ></button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [about, setAbout] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || \"\");\r\n    setAbout(currentUser.about || \"\");\r\n  }, [currentUser]);\r\n\r\n  function handleChangeInputName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeInputAbout(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about,\r\n    });\r\n\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_content_name\"\r\n            placeholder=\"Имя\"\r\n            name=\"name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            id=\"name-input\"\r\n            value={name}\r\n            onChange={handleChangeInputName}\r\n          />\r\n          <span className=\"popup__error name-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Профессиональная деятельность\"\r\n            id=\"about-me-input\"\r\n            name=\"about\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            value={about}\r\n            onChange={handleChangeInputAbout}\r\n          />\r\n          <span className=\"popup__error about-me-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n\r\n    onClose();\r\n    avatarRef.current.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Ссылка на аватар\"\r\n            id=\"avatar-input\"\r\n            name=\"avatar\"\r\n            required\r\n            ref={avatarRef}\r\n          />\r\n          <span className=\"popup__error avatar-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function AddPostPopup({ isOpen, onClose, onAddPost }) {\r\n  const [mesto, setMesto] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleChangeInputMesto(e) {\r\n    setMesto(e.target.value);\r\n  }\r\n\r\n  function handleChangeInputLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPost({\r\n      mesto,\r\n      link,\r\n    });\r\n\r\n    onClose();\r\n    setMesto(\"\");\r\n    setLink(\"\");\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-post\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Название\"\r\n            id=\"place-input\"\r\n            name=\"mesto\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            value={mesto}\r\n            onChange={handleChangeInputMesto}\r\n          />\r\n          <span className=\"popup__error place-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            id=\"link-input\"\r\n            name=\"link\"\r\n            required\r\n            value={link}\r\n            onChange={handleChangeInputLink}\r\n          />\r\n          <span className=\"popup__error link-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\n\r\nexport default function DeletePostPopup({ isOpen, onClose, card, onDeletePost }) {\r\n  // const [mesto, setMesto] = React.useState(\"\");\r\n  // const [link, setLink] = React.useState(\"\");\r\n\r\n  // function handleChangeInputMesto(e) {\r\n  //   setMesto(e.target.value);\r\n  // }\r\n\r\n  // function handleChangeInputLink(e) {\r\n  //   setLink(e.target.value);\r\n  // }\r\n\r\n  // function handleSubmit(e) {\r\n  //   e.preventDefault();\r\n\r\n  //   onAddPost({\r\n  //     mesto,\r\n  //     link,\r\n  //   });\r\n\r\n  //   onClose();\r\n  //   setMesto(\"\");\r\n  //   setLink(\"\");\r\n  // }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onDeletePost(card);\r\n\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-post\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { api } from \"../utils/Api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Header from \"./Header/Header\";\r\nimport Main from \"./Main/Main\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport ImagePopup from \"./ImagePopup/ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup/EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup/EditAvatarPopup\";\r\nimport AddPostPopup from \"./AddPostPopup/AddPostPopup\";\r\nimport DeletePostPopup from \"./DeletePostPopup/DeletePostPopup\";\r\n\r\nexport default function App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPostPopupOpen, setIsAddPostPopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpenen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isDeletePostPopupOpenen, setIsDeletePostPopupOpenen] =\r\n    React.useState(false);\r\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [posts, setPosts] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getPosts()\r\n      .then((data) => {\r\n        setPosts(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPostClick() {\r\n    setIsAddPostPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpenen(true);\r\n  }\r\n\r\n  function handleCardDeleteClick(card) {\r\n    setIsDeletePostPopupOpenen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api.changeLikePostStatus(card._id, isLiked).then((newPost) => {\r\n      setPosts((state) => state.map((c) => (c._id === card._id ? newPost : c)));\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPostPopupOpen(false);\r\n    setIsDeletePostPopupOpenen(false);\r\n    setIsImagePopupOpenen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUserInfo(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .setUserAvatar(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPost(data) {\r\n    api\r\n      .setPost(data)\r\n      .then((newPost) => {\r\n        setPosts([newPost, ...posts]);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleDeletePost(card) {\r\n    api.deletePost(card._id).then(() => {\r\n      setPosts((state) => state.filter((c) => c._id !== card._id));\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPost={handleAddPostClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDeleteClick={handleCardDeleteClick}\r\n          posts={posts}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <AddPostPopup\r\n          isOpen={isAddPostPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPost={handleAddPost}\r\n        />\r\n        <DeletePostPopup\r\n          isOpen={isDeletePostPopupOpenen}\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n          onDeletePost={handleDeletePost}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpenen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpenen}\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}